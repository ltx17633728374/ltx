数据备份:
    物理:
	cp -r /var/lib/mysql /root/mysqld.bak   #备份mysql数据
	scp -r /root/mysqld.bak 192.168.4.51:/root/  #把备份文件穿到其他主机
	rm -rf /var/lib/mysql
        在备份的主机操作:
	cp -r /root/mysqld.bak /var/lib/mysql   #把备份的文件拷贝进目录
	chown -R mysql:mysql /var/lib/mysql    #给文件加权限
	systemctl restart mysql      #重启MySQL服务
	mysql -uroot -p1111
	
    逻辑备份:
	完全备份及恢复(备份及恢复时要锁表)
	    命令行操作:		
		mysqldump -uroot -p2222 -A > /mydata/bei.sql
		#备份所有
		mysqldump -uroot -p2222 gamedb t3 > /mydata/gamet3.sql
		#备份gamedb下的t3表
		mysqldump -uroot-p2222 -B gamedb db2 > /mydata/gamedb2.sql
		备份gamedb,db2两个库
		msyql -uroot -p2222 gamedb < /mydata/gamet3.sql
		#恢复数据,前提是gamedb的库必须存在 
	增量备份及恢复:
	   binglog的使用:
		statement:只记录命令
		row:只记录修改的内容
		mixed:记录命令和修改内容
	    shwo variables like "binlog_format"; #查看当前日志记录格式
	   vim /etc/my.cnf   #修改配置,让日志启动
		[mysqld]
		#log_bin=/logdir/plj    
		#指定日志的名称和位置,不指定时在默认的目录下面/var/lib/mysql		
		lgo_bin
		server_id=50
		binglog_format="mixed"
		#chown mysql /logdir    #如果改了默认存放位置,就需要加权限	
	   mysqlbinlog /logdir/plj.00001    #查看日志文件内容



































































































































