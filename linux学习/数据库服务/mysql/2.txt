MySQL主从同步:
	从数据库服务器自动同步主库上的数据到本机,实现数据的自动备份
     主:接收客户端访问的数据库服务器
     从:自动同步主数据库服务器上的数据到本机

主服务器配置:
	vim /etc/my.cnf
		[mysqld]
		server_id=51     #服务的id是51
		log-bin=db51       #日志名字是db51
		binlog_format="mixed"    #日志类型是记录命令和修改内容

	grant replication slave on *.* to repluser@"%" identified by "123qqq...A";
		#给repluser用户授权,让所有主机可以用这个用户来获取更新权限
	select user,host from mysql.user where user="repluser";
		#查询用户信息
	
从库配置
	vim /etc/my.cnf
		[mysqld]
		server_id=52
	show slave status;    #显示自己是不是从库
	change master to master_host='192.168.4.51',   #主库地址
	->master_user="repluser",        #登录主库的用户
	->master_password="123qqq...A",   #连接主库的密码
	->master_log_file="db51.000001"    #去主库用show master status查看名字
	->master_log_pos=441;           #去主库用show master status查看偏移量 

	start slave    #启动从库进程
	show slave status\G;     #查看从库的信息
		Slave_IO_Running: Yes
		Slave_SQL_Running: Yes
		Last_IO_Error   #如果IO线程报错,可以看到报错信息
		Last_SQL_Error   #如果SQL线程报错,可以看到报错信息
主从同步原理:
	从服务器的I/O线程从主服务器拷贝binlog日志拷贝到本机的中继日志mysql2-relay-bin.000002
	SQL线程会执行中继日志中的那些拷贝过来的命令
	
从库的相关文件
	master.info    #主库信息
	relay-log.info   #中继日志信息
	主机名-relay-bin.xxxxxx  #中继日志
	主机名-relay-bin.index   #索引文件

停止主从:
	临时不同步:
		stop slave;  #从服务器操作
	












































































































